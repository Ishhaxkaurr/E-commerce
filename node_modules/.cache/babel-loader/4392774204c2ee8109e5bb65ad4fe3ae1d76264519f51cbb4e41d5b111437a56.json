{"ast":null,"code":"var _jsxFileName = \"/Users/ishapaul/Desktop/E-commerce/src/Store/CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport CartContext from \"./cart-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartProvider = props => {\n  _s();\n  const [items, updateItems] = useState([]);\n  const addItemToCartHandler = item => {\n    let itemsCopy = [...items];\n    let itemIndex = itemsCopy.findIndex(i => i.id === item.id);\n    if (itemIndex === -1) {\n      updateItems([...items, item]);\n    } else {\n      itemsCopy[itemIndex].quantity = Number(itemsCopy[itemIndex].quantity) + Number(item.quantity);\n      itemsCopy[itemIndex].totalPrice = itemsCopy[itemIndex].quantity * itemsCopy[itemIndex].price;\n      updateItems(itemsCopy);\n      console.log(\"inside addItemToCartHandler\", cartContext);\n    }\n  };\n  let totalPrice = 0;\n  items.forEach(item => {\n    totalPrice = totalPrice + Number(item.price * item.quantity);\n  });\n  const removeItemFromCartHandler = item => {\n    const itemsCopy = [...items];\n    const idx = itemsCopy.findIndex(i => i.id === item.id);\n    if (idx !== -1 && itemsCopy[idx].quantity < 2) {\n      itemsCopy.splice(idx, 1);\n      updateItems(itemsCopy);\n    } else {\n      itemsCopy[idx].quantity--;\n      updateItems(itemsCopy);\n    }\n  };\n  const cartContext = {\n    items: items,\n    totalAmount: totalPrice.toFixed(2),\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"dL6YHjiSmp0OR7ZaYvy6NRcmkZE=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useState","CartContext","jsxDEV","_jsxDEV","CartProvider","props","_s","items","updateItems","addItemToCartHandler","item","itemsCopy","itemIndex","findIndex","i","id","quantity","Number","totalPrice","price","console","log","cartContext","forEach","removeItemFromCartHandler","idx","splice","totalAmount","toFixed","addItem","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ishapaul/Desktop/E-commerce/src/Store/CartProvider.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport CartContext from \"./cart-context\";\n\nconst CartProvider = (props) => {\n  const [items, updateItems] = useState([]);\n\n  const addItemToCartHandler = (item) => {\n    let itemsCopy = [...items];\n    let itemIndex = itemsCopy.findIndex((i) => i.id === item.id);\n    if (itemIndex === -1) {\n      updateItems([...items, item]);\n    } else {\n      itemsCopy[itemIndex].quantity =\n        Number(itemsCopy[itemIndex].quantity) + Number(item.quantity);\n      itemsCopy[itemIndex].totalPrice =\n        itemsCopy[itemIndex].quantity * itemsCopy[itemIndex].price;\n      updateItems(itemsCopy);\n\n      console.log(\"inside addItemToCartHandler\", cartContext);\n    }\n  };\n\n  let totalPrice = 0;\n  items.forEach((item) => {\n    totalPrice = totalPrice + Number(item.price * item.quantity);\n  });\n\n  const removeItemFromCartHandler = (item) => {\n    const itemsCopy = [...items];\n    const idx = itemsCopy.findIndex((i) => i.id === item.id);\n\n    if (idx !== -1 && itemsCopy[idx].quantity < 2) {\n      itemsCopy.splice(idx, 1);\n      updateItems(itemsCopy);\n    } else {\n      itemsCopy[idx].quantity--;\n      updateItems(itemsCopy);\n    }\n  };\n\n  const cartContext = {\n    items: items,\n    totalAmount: totalPrice.toFixed(2),\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\nexport default CartProvider;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,WAAW,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC9B,MAAM,CAACC,KAAK,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAEzC,MAAMS,oBAAoB,GAAIC,IAAI,IAAK;IACrC,IAAIC,SAAS,GAAG,CAAC,GAAGJ,KAAK,CAAC;IAC1B,IAAIK,SAAS,GAAGD,SAAS,CAACE,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IAC5D,IAAIH,SAAS,KAAK,CAAC,CAAC,EAAE;MACpBJ,WAAW,CAAC,CAAC,GAAGD,KAAK,EAAEG,IAAI,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLC,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,GAC3BC,MAAM,CAACN,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,CAAC,GAAGC,MAAM,CAACP,IAAI,CAACM,QAAQ,CAAC;MAC/DL,SAAS,CAACC,SAAS,CAAC,CAACM,UAAU,GAC7BP,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,GAAGL,SAAS,CAACC,SAAS,CAAC,CAACO,KAAK;MAC5DX,WAAW,CAACG,SAAS,CAAC;MAEtBS,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEC,WAAW,CAAC;IACzD;EACF,CAAC;EAED,IAAIJ,UAAU,GAAG,CAAC;EAClBX,KAAK,CAACgB,OAAO,CAAEb,IAAI,IAAK;IACtBQ,UAAU,GAAGA,UAAU,GAAGD,MAAM,CAACP,IAAI,CAACS,KAAK,GAAGT,IAAI,CAACM,QAAQ,CAAC;EAC9D,CAAC,CAAC;EAEF,MAAMQ,yBAAyB,GAAId,IAAI,IAAK;IAC1C,MAAMC,SAAS,GAAG,CAAC,GAAGJ,KAAK,CAAC;IAC5B,MAAMkB,GAAG,GAAGd,SAAS,CAACE,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IAExD,IAAIU,GAAG,KAAK,CAAC,CAAC,IAAId,SAAS,CAACc,GAAG,CAAC,CAACT,QAAQ,GAAG,CAAC,EAAE;MAC7CL,SAAS,CAACe,MAAM,CAACD,GAAG,EAAE,CAAC,CAAC;MACxBjB,WAAW,CAACG,SAAS,CAAC;IACxB,CAAC,MAAM;MACLA,SAAS,CAACc,GAAG,CAAC,CAACT,QAAQ,EAAE;MACzBR,WAAW,CAACG,SAAS,CAAC;IACxB;EACF,CAAC;EAED,MAAMW,WAAW,GAAG;IAClBf,KAAK,EAAEA,KAAK;IACZoB,WAAW,EAAET,UAAU,CAACU,OAAO,CAAC,CAAC,CAAC;IAClCC,OAAO,EAAEpB,oBAAoB;IAC7BqB,UAAU,EAAEN;EACd,CAAC;EAED,oBACErB,OAAA,CAACF,WAAW,CAAC8B,QAAQ;IAACC,KAAK,EAAEV,WAAY;IAAAW,QAAA,EACtC5B,KAAK,CAAC4B;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAE3B,CAAC;AAAC/B,EAAA,CAjDIF,YAAY;AAAAkC,EAAA,GAAZlC,YAAY;AAkDlB,eAAeA,YAAY;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}
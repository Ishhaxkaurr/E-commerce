{"ast":null,"code":"var _jsxFileName = \"/Users/ishapaul/Desktop/E-commerce/src/Store/CartProvider.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport CartContext from \"./cart-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartProvider = props => {\n  _s();\n  const [items, updateItems] = useState([]);\n  const addItemToCartHandler = item => {\n    let itemsCopy = [...items];\n    let itemIndex = itemsCopy.findIndex(i => i.id === item.id);\n    if (itemIndex === -1) {\n      updateItems([...items, item]);\n    } else {\n      itemsCopy[itemIndex].quantity = Number(itemsCopy[itemIndex].quantity) + Number(item.quantity);\n      itemsCopy[itemIndex].totalPrice = itemsCopy[itemIndex].quantity * itemsCopy[itemIndex].price;\n      updateItems(itemsCopy);\n      console.log('inside addItemToCartHandler', cartContext);\n    }\n  };\n  let totalPrice = 0;\n  items.forEach(item => {\n    totalPrice = totalPrice + Number(item.price * item.quantity);\n  });\n  const removeItemFromCartHandler = item => {\n    const itemsCopy = [...items];\n    const idx = itemsCopy.findIndex(i => i.id === item.id);\n    if (idx !== -1 && itemsCopy[idx].quantity < 2) {\n      itemsCopy.splice(idx, 1);\n      updateItems(itemsCopy);\n    } else {\n      itemsCopy[idx].quantity--;\n      updateItems(itemsCopy);\n    }\n  };\n  const cartContext = {\n    items: items,\n    totalAmount: totalPrice.toFixed(2),\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: cartContext,\n    children: [console.log('inside CartContext.Provider', cartContext), props.children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 13\n  }, this);\n};\n_s(CartProvider, \"oU1GWHrsypDmMTv8iHYhX0L/Qto=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useState","CartContext","jsxDEV","_jsxDEV","CartProvider","props","_s","items","updateItems","addItemToCartHandler","item","itemsCopy","itemIndex","findIndex","i","id","quantity","Number","totalPrice","price","console","log","cartContext","forEach","removeItemFromCartHandler","idx","splice","totalAmount","toFixed","addItem","removeItem","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ishapaul/Desktop/E-commerce/src/Store/CartProvider.js"],"sourcesContent":["\nimport React, { useState } from \"react\";\nimport CartContext from \"./cart-context\";\n\n\nconst CartProvider=(props)=>{\n    const [items,updateItems]=useState([]);\n\n    const addItemToCartHandler=item=>{\n        let itemsCopy = [...items];\n        let itemIndex = itemsCopy.findIndex((i) => i.id === item.id);\n        if (itemIndex === -1) {\n          updateItems([...items,item]);\n        } \n        else {\n            itemsCopy[itemIndex].quantity = Number(itemsCopy[itemIndex].quantity) + Number(item.quantity);\n            itemsCopy[itemIndex].totalPrice =\n              itemsCopy[itemIndex].quantity * itemsCopy[itemIndex].price;\n            updateItems(itemsCopy);\n       \n        console.log('inside addItemToCartHandler',cartContext);\n    }\n}\n    \n    let totalPrice = 0;\n    items.forEach((item) => {\n        totalPrice = totalPrice + Number(item.price * item.quantity);\n    });\n\n\n      const removeItemFromCartHandler = (item) => {\n        const itemsCopy = [...items];\n        const idx = itemsCopy.findIndex((i) => i.id === item.id);\n\n        if (idx !== -1 && itemsCopy[idx].quantity < 2 ) {\n          itemsCopy.splice(idx, 1);\n          updateItems(itemsCopy);\n        } else {\n          itemsCopy[idx].quantity--;\n          updateItems(itemsCopy);\n        }\n      }; \n\n\n\n    const cartContext={\n        items:items,\n        totalAmount: totalPrice.toFixed(2),\n        addItem: addItemToCartHandler,\n        removeItem: removeItemFromCartHandler\n    }\n    return( <CartContext.Provider value={cartContext}>\n        {console.log('inside CartContext.Provider',cartContext)}\n        {props.children}\n\n    </CartContext.Provider>\n    )\n}\nexport default CartProvider"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,WAAW,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGzC,MAAMC,YAAY,GAAEC,KAAK,IAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,KAAK,EAACC,WAAW,CAAC,GAACR,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMS,oBAAoB,GAACC,IAAI,IAAE;IAC7B,IAAIC,SAAS,GAAG,CAAC,GAAGJ,KAAK,CAAC;IAC1B,IAAIK,SAAS,GAAGD,SAAS,CAACE,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IAC5D,IAAIH,SAAS,KAAK,CAAC,CAAC,EAAE;MACpBJ,WAAW,CAAC,CAAC,GAAGD,KAAK,EAACG,IAAI,CAAC,CAAC;IAC9B,CAAC,MACI;MACDC,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,GAAGC,MAAM,CAACN,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,CAAC,GAAGC,MAAM,CAACP,IAAI,CAACM,QAAQ,CAAC;MAC7FL,SAAS,CAACC,SAAS,CAAC,CAACM,UAAU,GAC7BP,SAAS,CAACC,SAAS,CAAC,CAACI,QAAQ,GAAGL,SAAS,CAACC,SAAS,CAAC,CAACO,KAAK;MAC5DX,WAAW,CAACG,SAAS,CAAC;MAE1BS,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAACC,WAAW,CAAC;IAC1D;EACJ,CAAC;EAEG,IAAIJ,UAAU,GAAG,CAAC;EAClBX,KAAK,CAACgB,OAAO,CAAEb,IAAI,IAAK;IACpBQ,UAAU,GAAGA,UAAU,GAAGD,MAAM,CAACP,IAAI,CAACS,KAAK,GAAGT,IAAI,CAACM,QAAQ,CAAC;EAChE,CAAC,CAAC;EAGA,MAAMQ,yBAAyB,GAAId,IAAI,IAAK;IAC1C,MAAMC,SAAS,GAAG,CAAC,GAAGJ,KAAK,CAAC;IAC5B,MAAMkB,GAAG,GAAGd,SAAS,CAACE,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,IAAI,CAACK,EAAE,CAAC;IAExD,IAAIU,GAAG,KAAK,CAAC,CAAC,IAAId,SAAS,CAACc,GAAG,CAAC,CAACT,QAAQ,GAAG,CAAC,EAAG;MAC9CL,SAAS,CAACe,MAAM,CAACD,GAAG,EAAE,CAAC,CAAC;MACxBjB,WAAW,CAACG,SAAS,CAAC;IACxB,CAAC,MAAM;MACLA,SAAS,CAACc,GAAG,CAAC,CAACT,QAAQ,EAAE;MACzBR,WAAW,CAACG,SAAS,CAAC;IACxB;EACF,CAAC;EAIH,MAAMW,WAAW,GAAC;IACdf,KAAK,EAACA,KAAK;IACXoB,WAAW,EAAET,UAAU,CAACU,OAAO,CAAC,CAAC,CAAC;IAClCC,OAAO,EAAEpB,oBAAoB;IAC7BqB,UAAU,EAAEN;EAChB,CAAC;EACD,oBAAQrB,OAAA,CAACF,WAAW,CAAC8B,QAAQ;IAACC,KAAK,EAAEV,WAAY;IAAAW,QAAA,GAC5Cb,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAACC,WAAW,CAAC,EACtDjB,KAAK,CAAC4B,QAAQ;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEG,CAAC;AAE3B,CAAC;AAAA/B,EAAA,CApDKF,YAAY;AAAAkC,EAAA,GAAZlC,YAAY;AAqDlB,eAAeA,YAAY;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}